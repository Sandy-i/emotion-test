<!DOCTYPE html>
  <html lang="zh-CN">
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0,
   maximum-scale=1.0, user-scalable=no">
      <title>æ­£åœ¨ç”Ÿæˆç»“æœ - æƒ…ç»ªé¢—ç²’åº¦æµ‹è¯•</title>
      <link rel="stylesheet" href="common.css">
      <style>
          .share-gate-container {
              min-height: 100vh;
              display: flex;
              align-items: center;
              justify-content: center;
              padding: 20px;
              background: linear-gradient(135deg, #667eea 0%, #764ba2
  100%);
          }

          .share-gate-content {
              background: white;
              border-radius: 24px;
              padding: 48px 32px;
              max-width: 500px;
              width: 100%;
              text-align: center;
              box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
              animation: slideUp 0.5s ease-out;
          }

          @keyframes slideUp {
              from {
                  opacity: 0;
                  transform: translateY(30px);
              }
              to {
                  opacity: 1;
                  transform: translateY(0);
              }
          }

          .gate-icon {
              font-size: 80px;
              margin-bottom: 24px;
              animation: bounce 2s infinite;
          }

          @keyframes bounce {
              0%, 100% { transform: translateY(0); }
              50% { transform: translateY(-10px); }
          }

          .gate-title {
              font-size: 28px;
              font-weight: 700;
              color: var(--text-primary);
              margin-bottom: 16px;
          }

          .gate-subtitle {
              font-size: 16px;
              color: var(--text-secondary);
              margin-bottom: 32px;
              line-height: 1.6;
          }

          .benefits {
              background: var(--bg-secondary);
              border-radius: 16px;
              padding: 24px;
              margin-bottom: 32px;
              text-align: left;
          }

          .benefit-item {
              padding: 12px 0;
              color: var(--text-primary);
              font-size: 15px;
              line-height: 1.6;
              border-bottom: 1px solid var(--border-color);
          }

          .benefit-item:last-child {
              border-bottom: none;
          }

          .countdown {
              font-size: 64px;
              font-weight: 700;
              background: var(--gradient-warm);
              -webkit-background-clip: text;
              -webkit-text-fill-color: transparent;
              background-clip: text;
              margin-bottom: 8px;
          }

          .countdown-label {
              font-size: 16px;
              color: var(--text-secondary);
              margin-bottom: 24px;
          }

          .skip-button {
              width: 100%;
              padding: 16px 32px;
              background: var(--gradient-warm);
              color: white;
              border: none;
              border-radius: 12px;
              font-size: 16px;
              font-weight: 600;
              cursor: pointer;
              transition: all 0.3s ease;
              box-shadow: 0 4px 12px rgba(108, 124, 231, 0.3);
          }

          .skip-button:disabled {
              opacity: 0.5;
              cursor: not-allowed;
          }

          .skip-button:not(:disabled):hover {
              transform: translateY(-2px);
              box-shadow: 0 6px 20px rgba(108, 124, 231, 0.4);
          }

          .skip-button:not(:disabled):active {
              transform: translateY(0);
          }
      </style>
  </head>
  <body>
      <div class="share-gate-container">
          <div class="share-gate-content">
              <div class="gate-icon">ğŸ‰</div>
              <div class="gate-title">æµ‹è¯•å®Œæˆï¼</div>
              <div class="gate-subtitle">
                  ä½ å·²ç»å®Œæˆäº†10é“é¢˜çš„æµ‹è¯•<br>
                  æ­£åœ¨ä¸ºä½ ç”Ÿæˆä¸ªæ€§åŒ–ç»“æœ...
              </div>

              <!-- åˆ†äº«å¸¦æ¥çš„å¥½å¤„ -->
              <div class="benefits">
                  <div class="benefit-item">âœ…
  è§£é”å®Œæ•´æµ‹è¯•ç»“æœå’Œé›·è¾¾å›¾</div>
                  <div class="benefit-item">âœ… è·å¾—ä¸ªæ€§åŒ–æƒ…ç»ªæå‡å»ºè®®</div>
                  <div class="benefit-item">âœ… äº†è§£ä½ çš„æƒ…ç»ªè¡¨è¾¾ç‰¹ç‚¹</div>
                  <div class="benefit-item">âœ… æŸ¥çœ‹è¯¦ç»†çš„æƒ…ç»ªåˆ†ææŠ¥å‘Š</div>
              </div>

              <!-- å€’è®¡æ—¶æŸ¥çœ‹ç»“æœ -->
              <div id="skipSection">
                  <div class="countdown" id="countdown">5</div>
                  <div class="countdown-label">ç§’åå¯ä»¥æŸ¥çœ‹ç»“æœ</div>
                  <button class="skip-button" id="skipButton"
  onclick="skipShare()" disabled>
                      æŸ¥çœ‹æˆ‘çš„æµ‹è¯•ç»“æœ (<span id="skipTime">5</span>ç§’)
                  </button>
              </div>
          </div>
      </div>

      <script src="test-data.js"></script>
      <script>
          let countdownTimer;
          let secondsLeft = 5;

          // é¡µé¢åŠ è½½æ—¶å¼€å§‹å€’è®¡æ—¶
          document.addEventListener('DOMContentLoaded', function() {
              // æ£€æŸ¥æ˜¯å¦å·²ç»åˆ†äº«è¿‡
              const hasShared =
  localStorage.getItem('emotion_test_shared');

              if (hasShared) {
                  // å¦‚æœå·²ç»åˆ†äº«è¿‡ï¼Œç›´æ¥è·³è½¬
                  viewResult();
                  return;
              }

              // å¼€å§‹å€’è®¡æ—¶
              startCountdown();
          });

          function startCountdown() {
              countdownTimer = setInterval(() => {
                  secondsLeft--;
                  document.getElementById('countdown').textContent =
  secondsLeft;
                  document.getElementById('skipTime').textContent =
  secondsLeft;

                  if (secondsLeft <= 0) {
                      clearInterval(countdownTimer);
                      document.getElementById('skipButton').disabled =
  false;
                      document.getElementById('skipButton').textContent =
  'æŸ¥çœ‹æˆ‘çš„æµ‹è¯•ç»“æœ âœ¨';
                  }
              }, 1000);
          }

          // è·³è¿‡åˆ†äº«ï¼Œç›´æ¥æŸ¥çœ‹ç»“æœ
          function skipShare() {
              localStorage.setItem('emotion_test_shared', 'true');
              viewResult();
          }

          // æŸ¥çœ‹ç»“æœ
          function viewResult() {
              window.location.href = 'result.html';
          }
      </script>
  </body>
  </html>
