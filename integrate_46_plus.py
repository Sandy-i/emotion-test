# -*- coding: utf-8 -*-
import re

# 读取当前文件
with open('c:/tmp/emotion-share/test-data-by-age.js', 'r', encoding='utf-8') as f:
    content = f.read()

# 找到46+部分的开始和结束位置
start_marker = "  '46+': ["
end_marker = "  ]\n};"

start_pos = content.find(start_marker)
end_pos = content.find(end_marker, start_pos)

if start_pos == -1 or end_pos == -1:
    print("错误：找不到46+部分标记")
    exit(1)

# 提取46+之前和之后的内容
before_46 = content[:start_pos]
after_46 = content[end_pos:]

# 新的46+内容
new_46_plus = """  '46+': [
    {
      id: 1,
      category: '退休焦虑',
      scenario: '还有3年就要退休了，公司开始安排年轻人接手你的工作。你感觉自己在公司的话语权越来越小，很多会议都不再邀请你参加。此刻你：',
      options: [
        { text: '坐在办公桌前发呆，手指无意识地敲击桌面', score: 0, type: 'vague' },
        { text: '胸口像被什么东西压着，呼吸有点不畅', score: 1, type: 'single' },
        { text: '被抛弃的痛苦、对未来的恐慌、身份认同危机同时涌现：心跳加快，脑子里反复闪过"退休后我还有价值吗？我还是谁？"，感觉自己被时代抛弃了', score: 2, type: 'detailed' },
        { text: '失落中带着释然：虽然心里有点不舒服，但能理解这是自然规律，开始主动帮年轻人熟悉业务，在传承中找到新的意义', score: 2, type: 'detailed' },
        { text: '反而轻松和期待交织：一边庆幸"终于可以少操心了"，一边兴奋地盘算退休后要做的事情，手机里已经收藏了好几个旅行攻略', score: 2, type: 'detailed' }
      ]
    },
    {
      id: 2,
      category: '空巢期',
      scenario: '孩子出国/外地工作了，家里突然变得很安静。你做了一桌子菜，却只有你和老伴两个人。此刻你：',
      options: [
        { text: '盯着满桌的菜发呆，筷子夹起又放下', score: 0, type: 'vague' },
        { text: '喉咙发紧，鼻子有点酸', score: 1, type: 'single' },
        { text: '深深的空虚、失落、失去人生意义的恐慌："二十多年的养育使命突然消失了，我还剩下什么？"眼眶发热，食物咽不下去，感觉整个人被掏空了', score: 2, type: 'detailed' },
        { text: '想念中夹杂着骄傲和欣慰：虽然眼睛有点湿润，但想到孩子有了自己的天地，嘴角还是忍不住上扬，给孩子发了条消息"注意身体"就没再打扰', score: 2, type: 'detailed' },
        { text: '轻松感和一丝愧疚混合：暗自庆幸"终于可以过自己的生活了"，但又觉得不该这么想，和老伴相视一笑，开始计划起久违的二人世界', score: 2, type: 'detailed' }
      ]
    },
    {
      id: 3,
      category: '健康/衰老',
      scenario: '膝盖开始疼，爬楼梯会喘，看近处的字要戴老花镜，体检报告一年比一年多红字。你清晰地感受到身体在衰老。此刻你：',
      options: [
        { text: '盯着体检报告发呆，眼神有点空', score: 0, type: 'vague' },
        { text: '心里沉甸甸的，脑子里一片混乱', score: 1, type: 'single' },
        { text: '对衰老的恐惧、对死亡的焦虑、对失去自主能力的惊恐交织：手微微发抖，心跳加速，每看到一个红字就想"这是不是大病的征兆？我还能活多久？"', score: 2, type: 'detailed' },
        { text: '担心但保持行动力：虽然心里紧张，但立刻上网搜索如何改善各项指标，给自己列了运动计划和饮食调整方案，在掌控感中缓解焦虑', score: 2, type: 'detailed' },
        { text: '平静接受中带着豁达：深吸一口气，把报告放下，想着"这是自然规律，重要的是当下还能动能走"，关注生活质量而不只是数字', score: 2, type: 'detailed' }
      ]
    },
    {
      id: 4,
      category: '老朋友离世',
      scenario: '得知大学室友突发疾病去世了，你们上个月还在微信聊天。葬礼上看着遗照，你意识到"下一个会是谁？"此刻你：',
      options: [
        { text: '呆站在遗照前，眼神失焦', score: 0, type: 'vague' },
        { text: '胸口像被重锤砸了一下，呼吸困难', score: 1, type: 'single' },
        { text: '深深的悲伤、震惊、对自己死亡的恐惧一齐爆发：双腿发软，脑子里不断闪回和他的聊天记录，接着涌上"生命如此脆弱，我还能活多久？"的恐慌，喉咙哽咽说不出话', score: 2, type: 'detailed' },
        { text: '悲痛中领悟到生命的意义：虽然眼泪止不住，但心里有个声音在说"要珍惜当下，好好活着"，葬礼结束后立刻给家人打了电话，声音还在颤抖', score: 2, type: 'detailed' },
        { text: '悲伤但保持哲学性的平静：默默流泪，心里反复想着"这就是生命的一部分"，对生死有了更深的接纳，甚至开始思考自己想要怎样的告别', score: 2, type: 'detailed' }
      ]
    },
    {
      id: 5,
      category: '照顾父母',
      scenario: '80多岁的老母亲被确诊老年痴呆，有时候认不出你，有时候半夜走失。你一边工作一边照顾，身心俱疲。此刻你：',
      options: [
        { text: '瘫坐在沙发上，眼神空洞地看着天花板', score: 0, type: 'vague' },
        { text: '浑身像被掏空了一样，眼皮重得睁不开', score: 1, type: 'single' },
        { text: '深深的无力感、悲痛、愧疚、甚至压抑的烦躁混在一起：身体和精神都到了极限，看着陌生的母亲心如刀割，脑子里闪过"撑不下去了"，但又立刻自责"我怎么能这么想"，眼泪无声滑落', score: 2, type: 'detailed' },
        { text: '虽然疲惫到极限，但坚持中有爱支撑：身体在抗议，心里却很清楚"这是我最后能为她做的"，一边联系护工分担压力，一边珍惜妈妈还在的每一天', score: 2, type: 'detailed' },
        { text: '在痛苦中找到意义和接纳：虽然艰难，但内心相对平和，理解了"陪伴本身就是孝顺"，每天记录妈妈的小片段，在照顾中学会了放下执念', score: 2, type: 'detailed' }
      ]
    },
    {
      id: 6,
      category: '孙辈教育',
      scenario: '你觉得孩子应该多吃饭少吃零食，但儿媳/女婿说"现在都科学育儿了"，不让你插手。你帮忙带孩子，却处处被指责"观念落后"。此刻你：',
      options: [
        { text: '转身走进卧室，关上了门', score: 0, type: 'vague' },
        { text: '心里像堵了块石头，说不出的难受', score: 1, type: 'single' },
        { text: '强烈的委屈、不被认可的痛苦、自我怀疑混杂：鼻子发酸，喉咙哽咽，脑子里反复想"我带大了你，现在我的经验就这么不值钱？我是不是真的老了跟不上了？"既想帮忙又怕做错，吃力不讨好', score: 2, type: 'detailed' },
        { text: '不舒服但愿意调整：虽然心里有点委屈，但能理解时代确实不同了，主动问"那你教教我新的方法"，在学习中重建价值感', score: 2, type: 'detailed' },
        { text: '守住边界保持和谐：虽然被否定有点不是滋味，但很快想通"这是你们的孩子，你们做主"，退到旁观者位置，只提供帮助不干涉决策', score: 2, type: 'detailed' }
      ]
    },
    {
      id: 7,
      category: '财务/养老',
      scenario: '盘算退休后的钱：退休金每月5000，存款30万，还有一套房。孩子要买房希望你支持，但你担心自己的养老储备不够。此刻你：',
      options: [
        { text: '盯着存款数字发呆，来回划拉计算器', score: 0, type: 'vague' },
        { text: '胸口发闷，脑子里一团乱麻', score: 1, type: 'single' },
        { text: '被撕扯的痛苦、对未来的恐慌、两难的煎熬：心跳加快，手心出汗，一边心疼孩子"不帮他们买房太难了"，一边恐慌"万一我生病钱不够怎么办？会不会反而拖累孩子？"，翻来覆去睡不着', score: 2, type: 'detailed' },
        { text: '虽然心疼孩子但守住底线：反复盘算后下定决心"可以帮一部分，但养老钱不能动"，准备好了和孩子坦诚沟通的说辞，虽然预想到孩子可能失望但心里踏实', score: 2, type: 'detailed' },
        { text: '理性评估找到平衡点：把各项开支列了个表，计算出可以支持的上限，既不让孩子完全靠自己，也不掏空家底，在帮助和自保之间找到了平衡', score: 2, type: 'detailed' }
      ]
    },
    {
      id: 8,
      category: '婚姻/老年生活',
      scenario: '和老伴一起生活了30多年，现在每天相对无言。你们很少吵架，但也很少交流，就这样平淡地过着每一天。此刻你：',
      options: [
        { text: '坐在沙发两端，各看各的手机', score: 0, type: 'vague' },
        { text: '心里空落落的，想说什么又咽了回去', score: 1, type: 'single' },
        { text: '深深的孤独感、对关系的失望、想改变又无力的矛盾："我们怎么变成了最熟悉的陌生人？"想要重新连接但不知从何开始，甚至怀疑"还有必要吗？"，喉咙发紧说不出话', score: 2, type: 'detailed' },
        { text: '虽然平淡但珍惜陪伴：看着老伴的侧脸，心里涌起温暖和感恩，主动伸手握了握对方的手，开始尝试用散步、一起做饭等小事重建连接', score: 2, type: 'detailed' },
        { text: '接受感情的自然状态：内心平和，理解了"陪伴本身就是最长情的告白"，不需要太多话，能一起慢慢变老就是幸福，倒了杯茶递过去', score: 2, type: 'detailed' }
      ]
    },
    {
      id: 9,
      category: '社会脱节',
      scenario: '和孙子聊天，TA说的"YYDS"、"绝绝子"你完全听不懂。用智能手机总是出错，网购不会操作。你感觉自己和这个时代脱节了。此刻你：',
      options: [
        { text: '笑着摆摆手，转身走开了', score: 0, type: 'vague' },
        { text: '心里堵得慌，感觉自己被落下了', score: 1, type: 'single' },
        { text: '强烈的挫败感、被边缘化的恐惧、自我否定：脸上发烫，手足无措，脑子里反复响起"我已经跟不上这个时代了，成了时代的局外人"，感觉自己越来越没用', score: 2, type: 'detailed' },
        { text: '虽然困难但保持好奇心：笑着对孙子说"你教教爷爷/奶奶"，拿出纸笔认真记下来，在学习中拉近和年轻人的距离，也找回了学习的乐趣', score: 2, type: 'detailed' },
        { text: '看开了代际差异：理解"每代人有每代人的语言"，不强求全懂但保持开放心态，对听不懂的新词一笑置之，关注的是孙子开心就好', score: 2, type: 'detailed' }
      ]
    },
    {
      id: 10,
      category: '人生意义',
      scenario: '退休后的某个下午，你坐在公园长椅上晒太阳。回顾这一生：有成就也有遗憾，有快乐也有痛苦。你开始思考"这辈子值得吗？"此刻你：',
      options: [
        { text: '盯着远处发呆，脑子里闪过很多画面', score: 0, type: 'vague' },
        { text: '心里五味杂陈，说不清是什么感觉', score: 1, type: 'single' },
        { text: '深深的遗憾、对未完成心愿的痛苦、对虚度光阴的自责："要是当初...就好了"，胸口发闷，眼眶发热，陷入了对过去的悔恨和对剩余时光的迷茫', score: 2, type: 'detailed' },
        { text: '遗憾和满意交织：虽然有些事情没做成让人叹息，但想到养大了孩子、有了孙子、也经历了风雨，嘴角不自觉上扬，"虽不完美，但也精彩"', score: 2, type: 'detailed' },
        { text: '内心深深的平静和接纳：长长地呼出一口气，所有好的坏的都成了人生的一部分，"无论如何，这就是我的人生"，对生命有了彻底的领悟和和解', score: 2, type: 'detailed' }
      ]
    }
  ]"""

# 组合新内容
new_content = before_46 + new_46_plus + after_46

# 写入文件
with open('c:/tmp/emotion-share/test-data-by-age.js', 'w', encoding='utf-8') as f:
    f.write(new_content)

import os
file_size = os.path.getsize('c:/tmp/emotion-share/test-data-by-age.js')
print(f"46+年龄段完整重写完成！")
print(f"文件大小：{file_size} 字节")
print(f"所有5个年龄段（250个选项）已全部重写完成！")
