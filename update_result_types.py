# -*- coding: utf-8 -*-
# 优化RESULT_TYPES，使其更贴合新的问题设计

import re

with open('c:/tmp/emotion-share/test-data-by-age.js', 'r', encoding='utf-8') as f:
    content = f.read()

# 找到RESULT_TYPES的开始和结束位置
start = content.find('// 结果类型定义（与原来相同，但适用于所有年龄段）\nconst RESULT_TYPES = [')
end = content.find('];', start) + 2

# 提取前后内容
before = content[:start]
after = content[end:]

# 新的RESULT_TYPES
new_result_types = '''// 结果类型定义（根据最新问题优化）
const RESULT_TYPES = [
  // 高水平 (16-20分)
  {
    level: 'high',
    orientation: 'positive',
    scoreRange: [16, 20],
    icon: '🌟',
    title: '情绪表达高手（阳光型）',
    description: '你倾向于从积极的角度感受生活，同时能够精确地识别和表达自己的情绪。面对压力和挑战时，你不仅能感受到紧张，还能区分这种紧张是"对未知的焦虑"还是"对挑战的兴奋"。这种细腻的情绪觉察让你在人际交往中更容易被理解，也更善于找到问题的解决路径。',
    advice: '你已经具备了很好的情绪素养。建议尝试帮助身边的人提升情绪表达能力，分享你如何理解和表达情绪。同时也要注意：负面情绪同样值得被细腻地感知和表达，不要因为乐观而忽视了内心真实的不适。'
  },
  {
    level: 'high',
    orientation: 'negative',
    scoreRange: [16, 20],
    icon: '🎭',
    title: '情绪表达高手（深度型）',
    description: '你对内心世界有着深刻的觉察力，能够准确区分"失望"、"沮丧"、"自责"之间的微妙差异。即便面对困境，你也不回避痛苦，反而能清晰地剖析这些感受。这种敏感度让你能够深刻理解自己和他人，在需要共情的场合有独特优势。',
    advice: '你的情绪颗粒度很高，这是难得的天赋。但要注意平衡：不要过度沉浸在负面情绪的分析中。建议用同样细腻的方式去捕捉生活中的美好瞬间——那些微小的欣慰、放松、满足。记录情绪日记可以帮助你看到情绪的流动和转变。'
  },
  {
    level: 'high',
    orientation: 'balanced',
    scoreRange: [16, 20],
    icon: '🧘',
    title: '情绪表达高手（平衡型）',
    description: '你拥有出色的情绪认知能力，既能感受积极情绪的层次，也不回避负面感受。你理解情绪没有好坏之分，重要的是如何准确识别和恰当表达。这种平衡让你在面对复杂情境时能够保持清醒，做出更明智的选择。',
    advice: '你已经具备了很好的情绪素养。可以将这种能力应用到更多场景：在冲突中用"我感到被忽视"替代"你不在乎我"，在决策前问问自己"这个选择让我感到兴奋还是不安"。这些细微的觉察会为你的人生带来显著改变。'
  },

  // 中高水平 (12-15分)
  {
    level: 'medium-high',
    orientation: 'positive',
    scoreRange: [12, 15],
    icon: '☀️',
    title: '情绪认知者（乐观型）',
    description: '你对积极情绪有较好的识别能力，能够区分不同层次的快乐和满足。但在面对负面情绪时，可能还习惯用"不太好"、"有点烦"这类模糊表达。整体来说，你的情绪表达能力处于中上水平，继续提升会看到明显改善。',
    advice: '下次感到不适时，给自己10秒钟：深呼吸，问问"这具体是什么感受？"——是担心某件事失败的焦虑？还是对某人行为的失望？你会发现，准确命名情绪本身就能带来缓解。可以随身准备一张情绪词汇卡，帮助扩展表达。'
  },
  {
    level: 'medium-high',
    orientation: 'negative',
    scoreRange: [12, 15],
    icon: '🌙',
    title: '情绪认知者（敏感型）',
    description: '你对痛苦和不适有较强的感知力，能够识别负面情绪的细微差别。这让你很善于觉察问题，但可能对积极情绪的表达相对笼统。你是一个细腻的观察者，容易察觉到他人和自己的情绪波动。',
    advice: '尝试用同样的精细度去感受生活中的小确幸——不只是"还可以"，而是具体的"因为完成工作的轻松感"或"被朋友关心的温暖"。每天记录3个具体的积极感受，一个月后你会发现自己对美好的敏感度提升了。'
  },
  {
    level: 'medium-high',
    orientation: 'balanced',
    scoreRange: [12, 15],
    icon: '🌈',
    title: '情绪认知者（成长型）',
    description: '你正在建立更精细的情绪认知系统。虽然有时还会用模糊词汇，但你已经开始尝试更准确地表达感受。你对情绪的态度开放而好奇，这是非常好的成长基础。',
    advice: '保持这种探索的好奇心！建议每天睡前写3分钟"情绪日记"：今天经历了什么？当时的感受是什么？用3个具体的情绪词描述。坚持21天，你会明显感觉到表达能力的提升。'
  },

  // 中等水平 (8-11分)
  {
    level: 'medium',
    orientation: 'positive',
    scoreRange: [8, 11],
    icon: '🌤️',
    title: '情绪探索者（积极型）',
    description: '你倾向于用积极的方式看待生活，但情绪表达还比较基础。你能感受到快乐和满足，但可能还不太习惯细化这些感受。面对复杂心情时，常用"挺好的"、"还不错"来概括。',
    advice: '开始练习"情绪分层"：当你说"我很开心"时，暂停一下，追问自己"具体是哪种开心？"——是完成目标的成就感、和朋友相处的愉悦、还是对未来的期待？这种练习每天做3次，一个月后会有明显变化。'
  },
  {
    level: 'medium',
    orientation: 'negative',
    scoreRange: [8, 11],
    icon: '🌧️',
    title: '情绪探索者（谨慎型）',
    description: '你对负面情绪的感知可能更敏感，但表达时倾向于使用基础词汇。"不开心"、"难受"、"烦"是常用表达，但这些简单的词背后，可能包含着焦虑、失望、愤怒、委屈等非常不同的情绪。',
    advice: '当感到不适时，尝试这个练习：停下来，深呼吸，问"除了不开心，我还能用什么词描述这种感觉？"可以从"失望、焦虑、愤怒、委屈、无助"中选择更贴近的词。准确命名后，你会更清楚如何应对。'
  },
  {
    level: 'medium',
    orientation: 'balanced',
    scoreRange: [8, 11],
    icon: '⛅',
    title: '情绪探索者（发展型）',
    description: '你的情绪表达处于发展阶段，有时能精确表达，有时还在用模糊词汇。这很正常——情绪颗粒度是可以训练的技能，不是天生的特质。你已经迈出了认识自己情绪的第一步。',
    advice: '从日常小事开始练习：早晨醒来的感觉如何？午餐时的心情怎样？不要满足于"还行"，尝试用更具体的词——"困倦但平静"、"疲惫但满足"。每天刻意练习3次，你的情绪词汇库会快速扩展。'
  },

  // 中低水平 (4-7分)
  {
    level: 'medium-low',
    orientation: 'positive',
    scoreRange: [4, 7],
    icon: '🌥️',
    title: '情绪启蒙者（乐天型）',
    description: '你习惯用简单的词汇表达感受，"开心"、"还行"、"挺好"是常用词。这并不意味着你感受不到复杂的情绪，而是可能还没有形成精细化表达的习惯。你的乐观是优点，情绪颗粒度有很大提升空间。',
    advice: '从今天开始，每天记录一个"情绪时刻"：发生了什么让你有感觉的事？当时的感受是什么？尝试用2-3个具体的情绪词描述，比如"轻松+满足"、"期待+紧张"。坚持一周就会看到进步。'
  },
  {
    level: 'medium-low',
    orientation: 'negative',
    scoreRange: [4, 7],
    icon: '🌩️',
    title: '情绪启蒙者（压抑型）',
    description: '你可能习惯用"不太好"、"有点烦"、"累"来表达所有负面感受。这种模糊表达可能让你难以准确识别问题的根源——究竟是对工作的焦虑、对关系的失望，还是对自己的自责？提升情绪颗粒度可以帮助你更好地应对困难。',
    advice: '下次情绪不佳时，尝试这个方法：找一张纸，写下"我现在感受到什么？"然后列出所有可能的情绪词。不要急于找答案，慢慢感受哪个词最贴近。如果持续困扰，建议寻求心理咨询的专业帮助。'
  },
  {
    level: 'medium-low',
    orientation: 'balanced',
    scoreRange: [4, 7],
    icon: '☁️',
    title: '情绪启蒙者（朴素型）',
    description: '你倾向于用最简单的词汇表达感受："好"、"不好"、"还行"、"一般"。这可能源于成长环境较少谈论情绪，或者只是缺乏练习的机会。好消息是，情绪表达能力是可以快速提升的技能。',
    advice: '建议从基础开始：先学会区分"开心、难过、生气、害怕、厌恶、惊讶"这6种基本情绪。每天睡前回顾：今天我体验到了哪些基本情绪？在什么情况下？两周后再进一步细化。别急，慢慢来。'
  },

  // 低水平 (0-3分)
  {
    level: 'low',
    orientation: 'positive',
    scoreRange: [0, 3],
    icon: '😶',
    title: '情绪觉醒者（模糊型）',
    description: '你可能很少关注自己的内心感受，习惯用"还行"、"挺好"、"没什么"来应付所有情绪询问。这并不意味着你没有情绪，而是可能还没有建立觉察和表达情绪的习惯。',
    advice: '是时候开始关注内心了。情绪颗粒度低可能导致情绪在不知不觉中堆积，最终以身体不适或突然爆发的形式出现。建议每天睡前5分钟："今天我的身体有什么感觉？心里有什么起伏？"只是观察，不评判。'
  },
  {
    level: 'low',
    orientation: 'negative',
    scoreRange: [0, 3],
    icon: '😐',
    title: '情绪觉醒者（麻木型）',
    description: '你可能长期处于情绪麻木状态，"不知道"、"没什么感觉"、"都一样"是常见回答。这可能是一种自我保护机制，但长期来看不利于心理健康和生活质量。',
    advice: '强烈建议寻求专业心理咨询帮助，探索情绪麻木背后的原因。同时可以从身体觉察开始：每天花3分钟感受心跳、呼吸、肌肉的紧张或放松，逐步重建与内心的连接。你值得被温柔对待，包括对待自己。'
  },
  {
    level: 'low',
    orientation: 'balanced',
    scoreRange: [0, 3],
    icon: '🤔',
    title: '情绪觉醒者（启蒙型）',
    description: '你可能是第一次认真思考"我的感受是什么"这个问题。情绪颗粒度对你来说是一个全新的概念，但不用担心，觉察永远不晚，每一步都是进步。',
    advice: '欢迎开启情绪觉察的旅程！建议从最基础的开始：学会区分"开心、难过、生气、害怕"这4种基本情绪。每天选一个时刻，停下来问自己"现在是什么感觉"，从这4个词里选一个。坚持一个月，你会发现明显变化。'
  }
]'''

# 组合新内容
new_content = before + new_result_types + after

# 写入文件
with open('c:/tmp/emotion-share/test-data-by-age.js', 'w', encoding='utf-8') as f:
    f.write(new_content)

print("Result types updated successfully!")
print(f"File size: {len(new_content)} bytes")
