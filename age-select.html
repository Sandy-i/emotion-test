<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="é€‰æ‹©ä½ çš„å¹´é¾„æ®µ - æƒ…ç»ªé¢—ç²’åº¦æµ‹è¯•">
    <title>é€‰æ‹©å¹´é¾„æ®µ - æƒ…ç»ªé¢—ç²’åº¦æµ‹è¯•</title>
    <link rel="stylesheet" href="common.css">
    <script src="i18n.js"></script>
    <style>
        /* è¯­è¨€åˆ‡æ¢å™¨ */
        .lang-switcher {
            position: fixed;
            top: var(--space-2);
            right: var(--space-3);
            z-index: 1000;
            background: white;
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-md);
            display: flex;
            padding: 4px;
            gap: 4px;
        }

        .lang-btn {
            padding: 6px 12px;
            border: none;
            background: transparent;
            color: var(--gray-600);
            font-size: 14px;
            font-weight: 500;
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: all var(--transition-base);
        }

        .lang-btn:hover {
            background: var(--gray-100);
        }

        .lang-btn.active {
            background: var(--gradient-warm);
            color: white;
        }

        .age-container {
            max-width: 750px;
            margin: 0 auto;
            padding: var(--space-4);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .age-header {
            text-align: center;
            margin-bottom: var(--space-5);
        }

        .age-icon {
            font-size: 64px;
            margin-bottom: var(--space-3);
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        .age-title {
            font-size: 28px;
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: var(--space-2);
            line-height: 1.3;
        }

        .age-subtitle {
            font-size: 16px;
            color: var(--gray-600);
            line-height: 1.6;
        }

        .age-options {
            display: flex;
            flex-direction: column;
            gap: var(--space-3);
        }

        .age-option {
            background: white;
            border: 2px solid var(--gray-300);
            border-radius: var(--radius-xl);
            padding: var(--space-4);
            cursor: pointer;
            transition: all var(--transition-base);
            position: relative;
            overflow: hidden;
        }

        .age-option:hover {
            border-color: var(--primary-400);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .age-option:active {
            transform: translateY(0);
        }

        .age-option.selected {
            border-color: var(--primary-500);
            background: linear-gradient(135deg, rgba(108, 124, 231, 0.08) 0%, rgba(171, 123, 247, 0.08) 100%);
        }

        .age-option.selected::after {
            content: 'âœ“';
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 24px;
            color: var(--primary-500);
            font-weight: bold;
        }

        .age-option-emoji {
            font-size: 32px;
            margin-bottom: var(--space-2);
        }

        .age-option-label {
            font-size: 20px;
            font-weight: 600;
            color: var(--gray-900);
            margin-bottom: var(--space-1);
        }

        .age-option-desc {
            font-size: 14px;
            color: var(--gray-600);
            line-height: 1.5;
        }

        .age-footer {
            margin-top: var(--space-5);
            text-align: center;
        }

        .btn-continue {
            width: 100%;
            max-width: 400px;
            height: 56px;
            background: var(--gradient-warm);
            color: white;
            border: none;
            border-radius: var(--radius-xl);
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-base);
            box-shadow: var(--shadow-sm);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-continue:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .btn-continue:not(:disabled):hover {
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
        }

        .btn-continue:not(:disabled):active {
            transform: translateY(0);
        }

        .privacy-note {
            margin-top: var(--space-3);
            font-size: 13px;
            color: var(--gray-500);
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="wave-decoration"></div>
    <!-- è¯­è¨€åˆ‡æ¢å™¨ -->
    <div class="lang-switcher">
        <button class="lang-btn active" data-lang="zh-CN" onclick="switchLanguage('zh-CN')">ä¸­æ–‡</button>
        <button class="lang-btn" data-lang="en-US" onclick="switchLanguage('en-US')">EN</button>
    </div>


    <div class="age-container">
        <div class="age-header fade-in">
            <div class="age-icon">ğŸ¯</div>
            <h1 class="age-title" data-i18n="ageSelect.title"></h1>
            <p class="age-subtitle" data-i18n="ageSelect.subtitle"></p>
        </div>

        <div class="age-options fade-in">
            <div class="age-option" data-age="18-22">
                <div class="age-option-emoji">ğŸ“</div>
                <div class="age-option-label" data-i18n="ageSelect.age1"></div>
                <div class="age-option-desc" data-i18n="ageSelect.age1desc"></div>
            </div>

            <div class="age-option" data-age="23-28">
                <div class="age-option-emoji">ğŸ’¼</div>
                <div class="age-option-label" data-i18n="ageSelect.age2"></div>
                <div class="age-option-desc" data-i18n="ageSelect.age2desc"></div>
            </div>

            <div class="age-option" data-age="29-35">
                <div class="age-option-emoji">ğŸ¯</div>
                <div class="age-option-label" data-i18n="ageSelect.age3"></div>
                <div class="age-option-desc" data-i18n="ageSelect.age3desc"></div>
            </div>

            <div class="age-option" data-age="36-45">
                <div class="age-option-emoji">ğŸŒ³</div>
                <div class="age-option-label" data-i18n="ageSelect.age4"></div>
                <div class="age-option-desc" data-i18n="ageSelect.age4desc"></div>
            </div>

            <div class="age-option" data-age="46+">
                <div class="age-option-emoji">ğŸ§˜</div>
                <div class="age-option-label" data-i18n="ageSelect.age5"></div>
                <div class="age-option-desc" data-i18n="ageSelect.age5desc"></div>
            </div>
        </div>

        <div class="age-footer fade-in">
            <button class="btn-continue" id="btnContinue" disabled>
                <span data-i18n="landing.ctaButton"></span>
            </button>
            <p class="privacy-note" data-i18n="ageSelect.privacyNote"></p>
        </div>
    </div>

    <script>
        // è¯­è¨€åˆ‡æ¢å’Œæ›´æ–°
        function switchLanguage(lang) {
            i18n.setLang(lang);
            updateLanguage();

            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.lang-btn').forEach(btn => {
                if (btn.dataset.lang === lang) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
        }

        function updateLanguage() {
            // æ›´æ–°é¡µé¢æ ‡é¢˜
            document.title = i18n.t('ageSelect.title') + ' - ' + i18n.t('landing.title').replace(/\n/g, ' ');

            // æ›´æ–°æ‰€æœ‰å¸¦ data-i18n å±æ€§çš„å…ƒç´ 
            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                const text = i18n.t(key);

                // å¤„ç†åŒ…å« <br> çš„æ–‡æœ¬
                if (text.includes('\n')) {
                    element.innerHTML = text.replace(/\n/g, '<br>');
                } else {
                    element.textContent = text;
                }
            });
        }

        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–è¯­è¨€
        document.addEventListener('DOMContentLoaded', function() {
            updateLanguage();

            // æ›´æ–°è¯­è¨€æŒ‰é’®çŠ¶æ€
            const currentLang = i18n.getLang();
            document.querySelectorAll('.lang-btn').forEach(btn => {
                if (btn.dataset.lang === currentLang) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
        });


        let selectedAge = null;

        // å¹´é¾„é€‰é¡¹ç‚¹å‡»äº‹ä»¶
        document.querySelectorAll('.age-option').forEach(option => {
            option.addEventListener('click', function() {
                // ç§»é™¤æ‰€æœ‰é€‰ä¸­çŠ¶æ€
                document.querySelectorAll('.age-option').forEach(opt => {
                    opt.classList.remove('selected');
                });

                // æ·»åŠ å½“å‰é€‰ä¸­çŠ¶æ€
                this.classList.add('selected');
                selectedAge = this.dataset.age;

                // å¯ç”¨ç»§ç»­æŒ‰é’®
                document.getElementById('btnContinue').disabled = false;
            });
        });

        // ç»§ç»­æŒ‰é’®ç‚¹å‡»äº‹ä»¶
        document.getElementById('btnContinue').addEventListener('click', function() {
            if (selectedAge) {
                // ä¿å­˜å¹´é¾„æ®µåˆ° localStorage
                localStorage.setItem('emotion_test_age_group', selectedAge);

                // è·³è½¬åˆ°æµ‹è¯•é¡µé¢
                window.location.href = 'question.html';
            }
        });
    </script>
</body>
</html>
